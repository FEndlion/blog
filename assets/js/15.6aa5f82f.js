(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{232:function(t,s,a){t.exports=a.p+"assets/img/33.35c8e98c.png"},263:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"【第6题】module-exports、exports、export三者的区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#【第6题】module-exports、exports、export三者的区别","aria-hidden":"true"}},[t._v("#")]),t._v(" 【第6题】module.exports、exports、export三者的区别")]),t._v(" "),e("h3",{attrs:{id:"面试题目："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#面试题目：","aria-hidden":"true"}},[t._v("#")]),t._v(" 面试题目：")]),t._v(" "),e("blockquote",[e("p",[t._v("module.exports、exports、export 三者的区别是什么？")])]),t._v(" "),e("h3",{attrs:{id:"答案解析："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#答案解析：","aria-hidden":"true"}},[t._v("#")]),t._v(" 答案解析：")]),t._v(" "),e("h4",{attrs:{id:"模块化进程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#模块化进程","aria-hidden":"true"}},[t._v("#")]),t._v(" 模块化进程")]),t._v(" "),e("p",[t._v("想要了解三者的区别，需要了解下他们产生的背景。")]),t._v(" "),e("p",[t._v("以前JS本身没有模块化的概念和相关API，开发者一般都是在"),e("code",[t._v("html")]),t._v("中引入多个"),e("code",[t._v("script")]),t._v("标签，业务逻辑复杂时，就会带来很多问题，比如：")]),t._v(" "),e("ol",[e("li",[t._v("全局作用域下容易造成变量冲突")]),t._v(" "),e("li",[t._v("文件只能按照 "),e("code",[t._v("<script>")]),t._v("的书写顺序进行加载")]),t._v(" "),e("li",[t._v("开发人员必须主观解决模块和代码库的依赖关系")]),t._v(" "),e("li",[t._v("在大型项目中各种资源难以管理，长期积累的问题导致代码库混乱不堪")])]),t._v(" "),e("p",[t._v("2009年 "),e("code",[t._v("Node.js")]),t._v("出现，"),e("code",[t._v("node")]),t._v("里面的模块系统遵循的是"),e("code",[t._v("CommonJS")]),t._v("规范")]),t._v(" "),e("blockquote",[e("p",[t._v("CommonJS定义的模块分为: 模块标识("),e("code",[t._v("module")]),t._v(")、模块定义("),e("code",[t._v("exports")]),t._v(") 、模块引用("),e("code",[t._v("require")]),t._v(")")])]),t._v(" "),e("p",[e("strong",[t._v("CommonJS是主要为了JS在后端的表现制定的，是不适合前端的\n，所以出现了AMD、CMD、UMD等等一系列可以在浏览器等终端实现的异步加载的模块化方案，我们最熟悉的"),e("code",[t._v("require.js")]),t._v("就是AMD的产物，"),e("code",[t._v("seajs")]),t._v("是CMD的产物。")])]),t._v(" "),e("h4",{attrs:{id:"exports和module-exports"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exports和module-exports","aria-hidden":"true"}},[t._v("#")]),t._v(" "),e("code",[t._v("exports")]),t._v("和"),e("code",[t._v("module.exports")])]),t._v(" "),e("ol",[e("li",[t._v("node中一个文件被认为是一个模块，执行时会给文件内生成"),e("code",[t._v("exports")]),t._v("和"),e("code",[t._v("module")]),t._v("两个对象，"),e("code",[t._v("module")]),t._v("对象内部会创建一个exports属性。")]),t._v(" "),e("li",[t._v("两者间的关系可以认为是 "),e("code",[t._v("exports = module.exports = {};")])])]),t._v(" "),e("p",[e("img",{attrs:{src:a(232),alt:"内存结构示意图"}})]),t._v(" "),e("p",[t._v("一个node模块，我们可以认为首行定义了"),e("code",[t._v("exports")]),t._v("和"),e("code",[t._v("module.exports")]),t._v("两个对象：")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// module1.js")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("add")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    a"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//能打印出结果为：{}")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exports"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//能打印出结果为：{}")]),t._v("\n\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// module1.js 可改写为如下代码")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" a "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("add")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    a"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//能打印出结果为：{}")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("exports"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//能打印出结果为：{}")]),t._v("\n\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br"),e("span",{staticClass:"line-number"},[t._v("14")]),e("br"),e("span",{staticClass:"line-number"},[t._v("15")]),e("br"),e("span",{staticClass:"line-number"},[t._v("16")]),e("br"),e("span",{staticClass:"line-number"},[t._v("17")]),e("br"),e("span",{staticClass:"line-number"},[t._v("18")]),e("br"),e("span",{staticClass:"line-number"},[t._v("19")]),e("br")])]),e("p",[t._v("既然"),e("code",[t._v("exports")]),t._v("和"),e("code",[t._v("module.exports")]),t._v("两个对象指向同一个对象，"),e("code",[t._v("require")]),t._v("导入的是谁呢？一起看下下面代码")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// test.js")]),t._v("\n\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    a"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nexports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    a"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("200")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// app.js")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" test "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./test'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("test"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 打印为 {a : 100}")]),t._v("\n\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br"),e("span",{staticClass:"line-number"},[t._v("8")]),e("br"),e("span",{staticClass:"line-number"},[t._v("9")]),e("br"),e("span",{staticClass:"line-number"},[t._v("10")]),e("br"),e("span",{staticClass:"line-number"},[t._v("11")]),e("br"),e("span",{staticClass:"line-number"},[t._v("12")]),e("br"),e("span",{staticClass:"line-number"},[t._v("13")]),e("br")])]),e("p",[e("strong",[t._v("从上面可知，"),e("code",[t._v("require")]),t._v("导出的内容是"),e("code",[t._v("module.exports")]),t._v("的指向的内存块内容，并不是"),e("code",[t._v("exports")]),t._v("的。")])]),t._v(" "),e("h4",{attrs:{id:"es6中的模块导出-export"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#es6中的模块导出-export","aria-hidden":"true"}},[t._v("#")]),t._v(" ES6中的模块导出 export")]),t._v(" "),e("p",[e("code",[t._v("export")]),t._v(" 是ES6中的导出，与它对应的导入是 "),e("code",[t._v("import")]),t._v("，常见的还有一个"),e("code",[t._v("export default")]),t._v("\n下面我们讲讲二者的区别")]),t._v(" "),e("ol",[e("li",[t._v("export与export default均可用于导出常量、函数、文件、模块等")]),t._v(" "),e("li",[t._v("在一个文件或模块中，export、import可以有多个，export default仅有一个")]),t._v(" "),e("li",[t._v("通过export方式导出，在导入时要加{ }，export default则不需要")]),t._v(" "),e("li",[t._v("export能直接导出变量表达式，export default不行。")])]),t._v(" "),e("h3",{attrs:{id:"总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),e("p",[t._v("综上可知：")]),t._v(" "),e("ol",[e("li",[e("code",[t._v("export / import")]),t._v("： 是ES6中的导入导出。")]),t._v(" "),e("li",[e("code",[t._v("module.exports / exports")]),t._v(": 只有 node 支持的导出，二者指向同一个对象。与他们对应的导入是"),e("code",[t._v("require")]),t._v("，模块最终导入的是"),e("code",[t._v("module.exports")]),t._v("对象。")])]),t._v(" "),e("blockquote",[e("p",[t._v("目前的浏览器几乎都不支持 ES6 的模块机制，所以我们要用 Babel 把 ES6 的模块机制转换成 CommonJS 的形式，然后使用 Browserify 或者 Webpack 这样的打包工具把他们打包起来。达到模块化加载效果类似于 "),e("code",[t._v("seajs")]),t._v("代码")])]),t._v(" "),e("hr"),t._v(" "),e("p",[e("strong",[t._v("扫一扫 关注我的公众号【前端名狮】，更多精彩内容陪伴你！")]),t._v(" "),e("img",{attrs:{src:"https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy8xNzcyODc5MC0xNWJkZDg1NjQyNzQ2MzNm",alt:"【前端名狮】"}})])])}),[],!1,null,null,null);s.default=n.exports}}]);